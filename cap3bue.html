<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="src/caperucita.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap"
      rel="stylesheet"
    />
    <title>La moderna Caperucita</title>
  </head>
  <body>
    <div class="content" id="content">
      <header class="app-header">
        <div class="arrow arrow-left" onClick="cap3()"></div>
        <h2>Léelo</h2>
        <div id="menu-bar">
          <div id="menu" onClick="onClickMenu()">
            <div id="bar1" class="bar"></div>
            <div id="bar2" class="bar"></div>
            <div id="bar3" class="bar"></div>
          </div>
          <ul class="nav" id="nav">
            <li><a href="index.html">Biblioteca</a></li>
            <li><a href="#">Cómo leer</a></li>
            <li><a href="caperucita.html">Índice</a></li>
            <li><img src="images/frentecap.png" alt="" /></li>
            <li><p>LA MODERNA CAPERUCITA</p></li>
          </ul>
        </div>

        <div class="menu-bg" id="menu-bg"></div>
      </header>

      <div class="middle"></div>

      <div class="grid-container">
        <div class="header"></div>
        <div class="subheader">
          <img src="images/frentecap3bue.png" alt="" />
          <p class="subtitle">Capítulo 3</p>
        </div>
        <div class="article">
          <div class="grid-story">
            <div class="word lectura" id="word"></div>
            <div class="charac">
              <img class="lectura" id="charac-img" src="" alt="" />
            </div>
            <div class="void"></div>
          </div>
          <button id="next" class="ancho">Empieza a leer</button>
        </div>
      </div>
    </div>

    <script>
      /*Inicio -> OJO BUG*/
      function empieza() {
        document.getElementById("splash").classList.toggle("fade");
      }

      function cap3() {
        location.replace("cap3.html");
      }

      /*Menú hamburguesa*/
      function onClickMenu() {
        document.getElementById("menu").classList.toggle("change");
        document.getElementById("nav").classList.toggle("change");
        document.getElementById("menu-bg").classList.toggle("change-bg");
        document.getElementById("sub-bg").classList.toggle("change-bg");
      }

      /*Lectura*/
      /**
       * Constructor function for lineas
       */
      function linea(name, img, btn) {
        this.name = name;
        this.img = img;
        this.btn = btn;
      }

      // An array containing all the lineas with their information CAPÍTULO 1 OK
      var lineas = [
        new linea(
          "El Lobo estaba tan sorprendido por esta declaración que soltó rápidamente a Caperucita, quien se había dado cuenta…",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "de que sus comentarios hacia el lobo habían sido totalmente superficiales e hirientes. ",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "Al mismo tiempo, el leñador, a quien le había llamado la atención que el timeline de Twitter de la abuelita, de quien era gran seguidor, no se hubiese… ",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "actualizado en las últimas horas, se sintió muy extrañado y decidió ir a ver si había algún problema. ",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "Entró entonces en la casa y con un hacha en la mano dijo:",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "¡¿Qué está pasando aquí?! ¿Dónde está la abuelita?",
          "images/cazador.png",
          "Continua"
        ),
        new linea(
          "Caperucita, quien acababa de tener una especie de revelación, apuntó:",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "Hola, señor leñador. Soy consciente de que de los hombres se espera que os mostréis como individuos fuertes y empoderados, pero no es necesario… ",
          "images/caperucita.png",
          "Continua"
        ),
        new linea(
          "que blandas un hacha en todo momento. Asimismo, aprecio que muestres preocupación acerca del estado de mi abuelita, que, por cierto… ¿Dónde está? ",
          "images/caperucita.png",
          "Continua"
        ),
        new linea(
          "Ah, sí, bueno… Resulta que se ha ido a Benidorm con un viaje del IMSERSO, y como sabe que vivo en el bosque y cada vez hace más frío, me ha permitido… ",
          "images/lobo.png",
          "Continua"
        ),
        new linea(
          "quedarme en su casa mientras esté ausente… Y yo pensé que sería divertido gastarte una broma para ver si nos podríamos hacer amigos…",
          "images/lobo.png",
          "Continua"
        ),
        new linea(
          "Caperucita, llevada por su nueva visión del mundo, más empática y menos influenciada por las redes, lo cortó:",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "Oh, lobo, ¡me encantaría tener un amigo fuera de las redes sociales y poder pasear con alguien que no sea madre de vez en cuando!",
          "images/lobo.png",
          "Continua"
        ),
        new linea(
          "A su vez, el cazador, quien se contagió del espíritu generoso de Caperucita, comentó:",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "No era consciente de tu situación… Como no la habías publicado en internet… ¿Sabes qué podemos hacer? Vamos a avisar a la protectora… ",
          "images/cazador.png",
          "Continua"
        ),
        new linea(
          "y que te den un hogar digno, tal como nos promete a todos la Constitución. ",
          "images/cazador.png",
          "Continua"
        ),
        new linea(
          "Y así, dándose cuenta de que hay vida más allá de las redes y que a veces las mejores acciones son las que se hacen por los demás y no por mero postureo, Caperucita, el lobo…",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "y el leñador cogieron el móvil, pero esta vez para llamar a la abuelita y hacerle saber que en su casa todo estaba bien.",
          "images/narrador.png",
          "Y colorín colorado..."
        ),
      ];

      // Cacheing HTML elements
      var lectura = document.querySelector("#lectura");
      var word = document.querySelector("#word");
      var characImg = document.querySelector("#charac-img");
      var next = document.querySelector("#next");

      // Index of the current project being displayed /*RECUERDA REDIRIGIR LA URL AL HACER .JS*/
      var index = 0;

      next.addEventListener("click", function () {
        if (next.innerHTML === "Y colorín colorado...") {
          location.replace("finalbue.html");
        } else {
          // Fade out
          word.style.opacity = 0;
          characImg.style.opacity = 0;

          // Fade in
          setTimeout(function () {
            word.innerHTML = lineas[index].name;
            characImg.src = lineas[index].img;
            next.innerHTML = lineas[index].btn;
            index = (index + 1) % lineas.length;
            word.style.opacity = 1;
            characImg.style.opacity = 1;
          }, 500);
        }
      });
    </script>
  </body>
</html>

<!--
  <div class="content">
      <header class="app-header">
        <span class="arrow arrow-left"></span>
        <div class="container">
          <h2>Biblioteca</h2>
        </div> 
        <div id="menu-bar">
          <div id="menu" onClick="onClickMenu()">
            <div id="bar1" class="bar"></div>
            <div id="bar2" class="bar"></div>
            <div id="bar3" class="bar"></div>
          </div>
          <ul class="nav" id="nav">
            <li><a href="#">Biblioteca</a></li>
            <li><a href="#">Cómo leer</a></li>
            <li><a href="#">Índice</a></li>
          </ul>
-->
