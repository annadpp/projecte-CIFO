<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="src/caperucita.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap"
      rel="stylesheet"
    />
    <title>La moderna Caperucita</title>
  </head>
  <body>
    <div class="content" id="content">
      <header class="app-header">
        <div class="arrow arrow-left" onClick="indice()"></div>
        <h2>Léelo</h2>
        <div id="menu-bar">
          <div id="menu" onClick="onClickMenu()">
            <div id="bar1" class="bar"></div>
            <div id="bar2" class="bar"></div>
            <div id="bar3" class="bar"></div>
          </div>
          <ul class="nav" id="nav">
            <li><a href="index.html">Biblioteca</a></li>
            <li><a href="#">Cómo leer</a></li>
            <li><a href="caperucita.html">Índice</a></li>
            <li><img src="images/frentecap.png" alt="" /></li>
            <li><p>LA MODERNA CAPERUCITA</p></li>
          </ul>
        </div>

        <div class="menu-bg" id="menu-bg"></div>
      </header>

      <div class="middle"></div>

      <div class="grid-container">
        <div class="header"></div>
        <div class="subheader">
          <img src="images/frentecap3.png" alt="" />
          <p class="subtitle">Capítulo 3</p>
        </div>
        <div class="article">
          <div class="grid-story">
            <div class="word lectura" id="word"></div>
            <div class="charac">
              <img class="lectura" id="charac-img" src="" alt="" />
            </div>
            <div class="void"></div>
          </div>
          <button id="next" class="ancho">Empieza a leer</button>
        </div>
      </div>
    </div>

    <script>
      /*Inicio -> OJO BUG*/
      function empieza() {
        document.getElementById("splash").classList.toggle("fade");
      }

      function indice() {
        location.replace("indice.html#splash");
      }

      /*Menú hamburguesa*/
      function onClickMenu() {
        document.getElementById("menu").classList.toggle("change");
        document.getElementById("nav").classList.toggle("change");
        document.getElementById("menu-bg").classList.toggle("change-bg");
        document.getElementById("sub-bg").classList.toggle("change-bg");
      }

      /*Lectura*/
      /**
       * Constructor function for lineas
       */
      function linea(name, img, btn) {
        this.name = name;
        this.img = img;
        this.btn = btn;
      }

      // An array containing all the lineas with their information CAPÍTULO 1 OK
      var lineas = [
        new linea(
          "Caperucita regresó al camino principal y se dirigió hacia la casa de su abuela, confiando ciegamente en Google Maps. Sin embargo, no sabía… ",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "que hacía mucho tiempo que los mapas de Google no se actualizaban en esa su zona, por lo que acabó tomando el camino más largo.",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "Pero Lobo Feroz, que era muy astuto y consciente de que en el bosque no hay mejor que seguir las indicaciones de los postes para excursionistas, pudo… ",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "llegar primero a casa de la abuelita por una ruta mucho más corta, donde tenía una misión que cumplir.",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "Irrumpió en la casa y, aprovechando que no vio a la abuelita por ningún lugar, y que hacía bastante frío, sin verse obstaculizado por las nociones rígidas… ",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "y tradicionalistas de los roles de género, se puso su kigurumi afelpado, justo antes de meterse en su cama. ",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "Y justo entonces, entró Caperucita:",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          '"Abuela, te he traído algunos bocadillos libres de crueldad para agradecerte tu papel de matriarca sabia y cariñosa."',
          "images/caperucita.png",
          "Continua"
        ),
        new linea(
          "El lobo, que quería gastarle una broma, dijo suavemente:",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          '"Acércate, niña, para que pueda verte."',
          "images/loboabu.png",
          "Continua"
        ),
        new linea(
          '"¡Dios mío! ¡Abuela, qué ojos tan grandes tienes!" ',
          "images/caperucita.png",
          "Continua"
        ),
        new linea(
          '"Olvidas que tengo un grave problema óptico…"',
          "images/loboabu.png",
          "Continua"
        ),
        new linea(
          '"Y, abuela, ¡qué enorme nariz tienes!"',
          "images/caperucita.png",
          "Continua"
        ),
        new linea(
          '"Naturalmente, podría haberla disminuida quirúrgicamente para ayudar en mi carrera como actriz (que nunca se materializó, por otra parte…), pero… ',
          "images/loboabu.png",
          "Continua"
        ),
        new linea(
          'no cedí a tales presiones sociales, hija mía."',
          "images/loboabu.png",
          "Continua"
        ),
        new linea(
          '"¡Y abuela, qué dientes tan grandes y afilados tienes!" ',
          "images/caperucita.png",
          "Continua"
        ),
        new linea(
          "El Lobo que, a pesar de que se moría de ganas por sorprender a Caperucita, no pudo soportar más esos insultos específicos, en una reacción movida… ",
          "images/narrador.png",
          "Continua"
        ),
        new linea(
          "por sus más primarios instintos, saltó de la cama, agarró a Caperucita Roja y acercó la boca ferozmente a su cara.",
          "images/narrador.png",
          "Descubre el enigma"
        ),
      ];

      // Cacheing HTML elements
      var lectura = document.querySelector("#lectura");
      var word = document.querySelector("#word");
      var characImg = document.querySelector("#charac-img");
      var next = document.querySelector("#next");

      // Index of the current project being displayed /*RECUERDA REDIRIGIR LA URL AL HACER .JS*/
      var index = 0;

      next.addEventListener("click", function () {
        if (next.innerHTML === "Descubre el enigma") {
          location.replace("enigma3.html");
        } else {
          // Fade out
          word.style.opacity = 0;
          characImg.style.opacity = 0;

          // Fade in
          setTimeout(function () {
            word.innerHTML = lineas[index].name;
            characImg.src = lineas[index].img;
            next.innerHTML = lineas[index].btn;
            index = (index + 1) % lineas.length;
            word.style.opacity = 1;
            characImg.style.opacity = 1;
          }, 500);
        }
      });
    </script>
  </body>
</html>

<!--
  <div class="content">
      <header class="app-header">
        <span class="arrow arrow-left"></span>
        <div class="container">
          <h2>Biblioteca</h2>
        </div> 
        <div id="menu-bar">
          <div id="menu" onClick="onClickMenu()">
            <div id="bar1" class="bar"></div>
            <div id="bar2" class="bar"></div>
            <div id="bar3" class="bar"></div>
          </div>
          <ul class="nav" id="nav">
            <li><a href="#">Biblioteca</a></li>
            <li><a href="#">Cómo leer</a></li>
            <li><a href="#">Índice</a></li>
          </ul>
-->
