<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="src/caperucita.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="images/favicon_cap.png" />
    <title>La moderna Caperucita</title>
  </head>
  <body>
    <!--TAMAÑOS GRANDES-->
    <div class="container-grande">
      <div class="contenido-grande">
        <div class="titulo">
          <img src="images/cap1.png" alt="" />
          <h1>La moderna <br />Caperucita</h1>
        </div>
        <div class="img"><img src="images/qr-codeOK.jpg" alt="" /></div>
        <div class="texto">
          <p>
            Esta web está preparada únicamente para dispositivos móviles. Abre
            la web con tu móvil o escanea el código QR para acceder a su
            contenido.
          </p>
        </div>
      </div>
    </div>

    <!--DISPOSITIVOS MÓVILES-->
    <div class="mobile">
      <div class="content" id="content">
        <!--Header + menú hamburguesa-->
        <header class="app-header">
          <div id="arrow" class="arrow arrow-left" onClick="cap3()"></div>
          <h2>Léelo</h2>
          <div id="menu-bar">
            <div id="menu" onClick="onClickMenu()">
              <div id="bar1" class="bar"></div>
              <div id="bar2" class="bar"></div>
              <div id="bar3" class="bar"></div>
            </div>
            <ul class="nav" id="nav">
              <li><a href="index.html">Biblioteca</a></li>
              <li><a href="#">Cómo leer</a></li>
              <li><a href="indice.html">Índice</a></li>
              <li><img src="images/frentecap.png" alt="" /></li>
              <li><p>LA MODERNA CAPERUCITA</p></li>
            </ul>
          </div>
          <div class="menu-bg" id="menu-bg"></div>
        </header>

        <!--Contenido página-->
        <div class="middle"></div>
        <div class="grid-container">
          <div class="header"></div>
          <div class="subheader">
            <img src="images/frentecap3mal.png" alt="" />
            <p class="subtitle">Capítulo 3</p>
          </div>
          <div class="article">
            <div class="grid-story">
              <div class="word lectura" id="word">
                <img src="images/pers-cap2b3mal.svg" alt="" />
              </div>
              <div class="charac">
                <img class="lectura" id="charac-img" src="" alt="" />
              </div>
              <div class="void"></div>
            </div>
            <button id="next" class="ancho">Empieza a leer</button>
          </div>
        </div>
      </div>
    </div>

    <script src="src/app.js"></script>
    <script>
      /*LECTURA*/
      /*Recopilación información para lineas*/
      function linea(name, img, btn) {
        this.name = name;
        this.img = img;
        this.btn = btn;
      }

      /*Textos*/
      var lineas = [
        new linea(
          "El Lobo estaba tan sorprendido por esta declaración que soltó rápidamente a Caperucita. Al mismo tiempo, el leñador, a quien le había… ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "...llamado la atención que el <div class='tooltip'><em>timeline</em> <span class='tooltiptext'>Droga dura para mentes blandas. El lugar de donde emana la «sabiduría» para aquellas personas cuya estrella polar son las redes sociales.</span></div> de Twitter de la abuelita, de quien era gran seguidor, no se hubiese actualizado… ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "...en las últimas horas, se sintió muy extrañado y decidió ir a ver si había algún problema.",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "Entró entonces en la casa y con un hacha en la mano gritó:",
          "images/narrador.png",
          "Continúa"
        ),
        new linea('"¡Fuera las manos!" ', "images/lenador.png", "Continúa"),
        new linea(
          "«¿Qué crees que estás haciendo?»",
          "images/caperucita.png",
          "Continúa"
        ),
        new linea(
          "«Si dejo que me ayudes ahora, estaría expresando una falta de confianza en mis propias habilidades, lo que daría lugar a una baja…",
          "images/caperucita.png",
          "Continúa"
        ),
        new linea(
          "...autoestima y puntajes de logros más bajos en los exámenes de ingreso a la universidad.»",
          "images/caperucita.png",
          "Continúa"
        ),
        new linea(
          "«¡Última oportunidad, niña! ¡Quita tus manos de esa especie en peligro de extinción!»",
          "images/lenador.png",
          "Continúa"
        ),
        new linea(
          "Caperucita Roja hizo entonces un movimiento repentino, como si fuese un <div class='tooltip'>policía estadounidense <span class='tooltiptext'>No es solo el <em>señoro</em> pasado de dónuts que podrías imaginar, sino que además, es un cazador profesional de negros.</span></div>, de los que disparan antes de preguntar…",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "...el leñador dio un respingo y le cortó la cabeza a Caperucita con su hacha. ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "«Gracias a Dios que llegaste aquí a tiempo. La abuelita me había pedido que la cubriese mientras se iba con el <div class='tooltip'>IMSERSO <span class='tooltiptext'>Las teorías conspirativas dicen que es una agencia de despeñamiento de autobuses de ancianos para reducir la población pensionista.</span></div>…",
          "images/lobo.png",
          "Continúa"
        ),
        new linea(
          "...a Benidorm, pero la mocosa no me ha dado tiempo a explicárselo entre tanto insulto. Mira que yo solo quería gastarle una broma…»",
          "images/lobo.png",
          "Continúa"
        ),
        new linea(
          "«No, creo que yo soy la verdadera víctima, aquí. Nadie se preocupa por la <div class='tooltip'>salud mental <span class='tooltiptext'>Poca broma con esto. Otra de las víctimas de la sociedad patriarcal, donde las mujeres pueden (deben) ser frágiles y los hombres seres sin sentimientos.</span></div> de los hombres, y ahora tendré que actuar…",
          "images/lenador.png",
          "Continúa"
        ),
        new linea(
          "...como que no me afectase haber decapitado a Caperucita, por alienada que estuviese en sus acciones.»",
          "images/lenador.png",
          "Continúa"
        ),
        new linea(
          "«Tienes toda la razón. Siento tu dolor.»",
          "images/lobo.png",
          "Continúa"
        ),
        new linea(
          "Así pues, si Caperucita hubiese recapacitado y hubiese analizado fríamente todo lo que le llegaba de internet, ahora podría seguir navegando por la red.",
          "images/narrador.png",
          "¿Y ahora qué?"
        ),
      ];

      /*Query selectors*/
      var lectura = document.querySelector("#lectura");
      var word = document.querySelector("#word");
      var characImg = document.querySelector("#charac-img");
      var next = document.querySelector("#next");

      /*Inicio textos*/
      var index = 0;

      /*Paso textos + transiciones + botón cambio capítulo*/
      next.addEventListener("click", function () {
        if (next.innerHTML === "¿Y ahora qué?") {
          location.replace("finalmal.html");
        } else {
          /*Fade out*/
          word.style.opacity = 0;
          characImg.style.opacity = 0;

          /*Fade in*/
          setTimeout(function () {
            word.innerHTML = lineas[index].name;
            characImg.src = lineas[index].img;
            next.innerHTML = lineas[index].btn;
            index = (index + 1) % lineas.length;

            word.style.opacity = 1;
            characImg.style.opacity = 1;
          }, 1000);
        }
      });
    </script>
  </body>
</html>
