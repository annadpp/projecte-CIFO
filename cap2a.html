<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="src/caperucita.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap"
      rel="stylesheet"
    />
    <title>La moderna Caperucita</title>
  </head>
  <body>
    <!--TAMAÑOS GRANDES-->
    <div class="container-grande">
      <div class="contenido-grande">
        <div class="titulo">
          <img src="images/cap1.png" alt="" />
          <h1>La moderna <br />Caperucita</h1>
        </div>
        <div class="img"><img src="images/qr-codeOK.jpg" alt="" /></div>
        <div class="texto">
          <p>
            Esta web está preparada únicamente para dispositivos móviles. Abre
            la web con tu móvil o escanea el código QR para acceder a su
            contenido.
          </p>
        </div>
      </div>
    </div>

    <!--DISPOSITIVOS MÓVILES-->
    <div class="mobile">
      <div class="content" id="content">
        <!--Header + menú hamburguesa-->
        <header class="app-header">
          <div class="arrow arrow-left" onClick="indice()"></div>
          <h2>Léelo</h2>
          <div id="menu-bar">
            <div id="menu" onClick="onClickMenu()">
              <div id="bar1" class="bar"></div>
              <div id="bar2" class="bar"></div>
              <div id="bar3" class="bar"></div>
            </div>
            <ul class="nav" id="nav">
              <li><a href="index.html">Biblioteca</a></li>
              <li><a href="#">Cómo leer</a></li>
              <li><a href="indice.html">Índice</a></li>
              <li><img src="images/frentecap.png" alt="" /></li>
              <li><p>LA MODERNA CAPERUCITA</p></li>
            </ul>
          </div>
          <div class="menu-bg" id="menu-bg"></div>
        </header>

        <!--Contenido página-->
        <div class="middle"></div>
        <div class="grid-container">
          <div class="header"></div>
          <div class="subheader">
            <img src="images/frentecap2a.png" alt="" />
            <p class="subtitle">Capítulo 2</p>
          </div>
          <div class="article">
            <div class="grid-story">
              <div class="word lectura" id="word">
                <img src="images/pers-cap2a.svg" alt="" />
              </div>
              <div class="charac">
                <img class="lectura" id="charac-img" src="" alt="" />
              </div>
              <div class="void"></div>
            </div>
            <button id="next" class="ancho">Empieza a leer</button>
          </div>
        </div>
      </div>
    </div>

    <script src="src/app.js"></script>
    <script>
      /*LECTURA*/
      /*Recopilación información para lineas*/
      function linea(name, img, btn) {
        this.name = name;
        this.img = img;
        this.btn = btn;
      }

      /*Textos*/
      var lineas = [
        new linea(
          "Mucha gente creía que el bosque era un lugar peligroso y siniestro, ya que, como todo…",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "...el mundo sabe, estamos abocados a la extinción de la vida extraurbana.",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "No obstante, Caperucita había leído en un blog que eso no era más que un miedo irracional basado en paradigmas culturales inculcados… ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "...intensamente por una <br /><div class='tooltip'>sociedad patriarcal <span class='tooltiptext'>Una estructura social que perjudica tanto a hombres (sí, sed todos conscientes de esto) como a mujeres (de forma incluso más flagrante).</span></div> que consideraba el mundo natural como un recurso explotable.",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "Aunque, por otra parte, en algunos comentarios de Facebook había leído que el verdadero motivo por el que muchas personas…",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "...evitaban los bosques era por miedo a los <br /><div class='tooltip'>ladrones <span class='tooltiptext'>Para la España que Madruga, todo aquel con un tono de piel más oscuro al suyo y nacido más en el sur que ellos, aunque pague el doble de impuestos y trabaje el doble de horas que ellos en este país.</span></div>, mayoritariamente extranjeros, por supuesto.",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "Al yo puro que quedaba dentro de ella algo le decía que debíamos enfocarnos en ser una sociedad verdaderamente sin clases, donde… ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          'todos los pueblos marginados podrían "salir" del bosque y ser aceptados como modelos válidos de estilo de vida, siempre sin coartar las libertades de los demás.',
          "images/narrador.png",
          "Descubre el enigma"
        ),
      ];

      /*Query selectors*/
      var lectura = document.querySelector("#lectura");
      var word = document.querySelector("#word");
      var characImg = document.querySelector("#charac-img");
      var next = document.querySelector("#next");

      /*Inicio textos*/
      var index = 0;

      /*Paso textos + transiciones + botón cambio capítulo*/
      next.addEventListener("click", function () {
        if (next.innerHTML === "Descubre el enigma") {
          location.replace("enigma2a.html");
        } else {
          /*Fade out*/
          word.style.opacity = 0;
          characImg.style.opacity = 0;

          /*Fade in*/
          setTimeout(function () {
            word.innerHTML = lineas[index].name;
            characImg.src = lineas[index].img;
            next.innerHTML = lineas[index].btn;
            index = (index + 1) % lineas.length;

            word.style.opacity = 1;
            characImg.style.opacity = 1;
          }, 1000);
        }
      });
    </script>
  </body>
</html>
