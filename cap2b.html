<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="src/caperucita.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@700&display=swap"
      rel="stylesheet"
    />
    <title>La moderna Caperucita</title>
  </head>
  <body>
    <!--tamaños grandes-->
    <div class="container-grande">
      <div class="contenido-grande">
        <div class="titulo">
          <img src="images/cap1.png" alt="" />
          <h1>La moderna <br />Caperucita</h1>
        </div>
        <div class="img"><img src="images/qr-codeOK.jpg" alt="" /></div>
        <div class="texto">
          <p>
            Esta web está preparada únicamente para dispositivos móviles. Abre
            la web con tu móvil o escanea el código QR para acceder a su
            contenido.
          </p>
        </div>
      </div>
    </div>

    <!--contenido móvil-->
    <div class="content" id="content">
      <header class="app-header">
        <div class="arrow arrow-left" onClick="cap2()"></div>
        <h2>Léelo</h2>
        <div id="menu-bar">
          <div id="menu" onClick="onClickMenu()">
            <div id="bar1" class="bar"></div>
            <div id="bar2" class="bar"></div>
            <div id="bar3" class="bar"></div>
          </div>
          <ul class="nav" id="nav">
            <li><a href="index.html">Biblioteca</a></li>
            <li><a href="#">Cómo leer</a></li>
            <li><a href="caperucita.html">Índice</a></li>
            <li><img src="images/frentecap.png" alt="" /></li>
            <li><p>LA MODERNA CAPERUCITA</p></li>
          </ul>
        </div>

        <div class="menu-bg" id="menu-bg"></div>
      </header>

      <div class="middle"></div>

      <div class="grid-container">
        <div class="header"></div>
        <div class="subheader">
          <img src="images/frentecap2b.png" alt="" />
          <p class="subtitle">Capítulo 2</p>
        </div>
        <div class="article">
          <div class="grid-story">
            <div class="word lectura" id="word"></div>
            <div class="charac">
              <img class="lectura" id="charac-img" src="" alt="" />
            </div>
            <div class="void"></div>
          </div>
          <button id="next" class="ancho">Empieza a leer</button>
        </div>
      </div>
    </div>

    <script>
      /*Inicio -> OJO BUG*/
      function empieza() {
        document.getElementById("splash").classList.toggle("fade");
      }

      function cap2() {
        location.replace("cap2.html");
      }

      /*Menú hamburguesa*/
      function onClickMenu() {
        document.getElementById("menu").classList.toggle("change");
        document.getElementById("nav").classList.toggle("change");
        document.getElementById("menu-bg").classList.toggle("change-bg");
        document.getElementById("sub-bg").classList.toggle("change-bg");
      }

      /*Lectura*/
      /**
       * Constructor function for lineas
       */
      function linea(name, img, btn) {
        this.name = name;
        this.img = img;
        this.btn = btn;
      }

      // An array containing all the lineas with their information CAPÍTULO 1 OK
      var lineas = [
        new linea(
          "De camino a la casa de la abuela, Caperucita se cruzó con un leñador, que estaba absorto en su móvil y ni siquiera se dio cuenta de su presencia. ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "¿Dónde han quedado los <div class='tooltip'>antiguos modales <span class='tooltiptext'> </span></div>? ¡Cuando te encontrabas con otra persona en la naturaleza había que saludarle! ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "Por suerte, no todo estaba perdido, y de pronto Caperucita se sorprendió al verse interpelada por un lobo, quien le preguntó qué había en su canasta. ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "Por mucho que de pequeña le hubiesen dicho que desconfiase de los extraños, Caperucita, acostumbrada a usar <div class='tooltip'>Tinder <span class='tooltiptext'>Una versión de Pokémon actualizada: ¡hazte con todos (los ligues)!</span></div>, y movida por la… ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          "caballerosidad del gesto del lobo, eligió dialogar con él y deleitarlo con la mejor versión de sí misma. ",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          '"Le llevo a mi abuela unos <div class="tooltip"><em>snacks</em> veganos <span class="tooltiptext">Tú no sabes de qué están hechos, yo no sé de qué están hechos, pero lo que sí que sabemos (y ya se encargarán sus potenciales consumidores de hacérnoslo saber) es que no están hechos con carne. </span></div> saludables en un gesto de solidaridad". ',
          "images/caperucita.png",
          "Continúa"
        ),
        new linea(
          '"¿Sabes, querida? No es seguro para una chica caminar sola por estos bosques. Déjame acompañarte." ',
          "images/lobo.png",
          "Continúa"
        ),
        new linea(
          "Indignada, y también un poco confusa por la contradicción que esto suponía para sus <br /><div class='tooltip'>valores <span class='tooltiptext'>Capacidad de pensamiento crítico y actuación en consecuencia. Eso que ahora ya no tiene ni el Barça.</span></div> difusos, Caperucita respondió:",
          "images/narrador.png",
          "Continúa"
        ),
        new linea(
          '"Aunque encuentro tu comentario sexista ofensivo en extremo, lo ignoraré, ya que como minoría marginada debemos proteger tu visión…',
          "images/caperucita.png",
          "Continúa"
        ),
        new linea(
          'del mundo, por mucho que atente contra los valores de nuestra sociedad."',
          "images/caperucita.png",
          "Continúa"
        ),
        new linea(
          "“Y ahora, si me disculpas, voy a seguir el camino más seguro tal como me indica Google maps.”",
          "images/caperucita.png",
          "Descubre el enigma"
        ),
      ];

      // Cacheing HTML elements
      var lectura = document.querySelector("#lectura");
      var word = document.querySelector("#word");
      var characImg = document.querySelector("#charac-img");
      var next = document.querySelector("#next");

      // Index of the current project being displayed /*RECUERDA REDIRIGIR LA URL AL HACER .JS*/
      var index = 0;

      next.addEventListener("click", function () {
        if (next.innerHTML === "Descubre el enigma") {
          location.replace("enigma2b.html");
        } else {
          // Fade out
          word.style.opacity = 0;
          characImg.style.opacity = 0;

          // Fade in
          setTimeout(function () {
            word.innerHTML = lineas[index].name;
            characImg.src = lineas[index].img;
            next.innerHTML = lineas[index].btn;
            index = (index + 1) % lineas.length;
            word.style.opacity = 1;
            characImg.style.opacity = 1;
          }, 500);
        }
      });
    </script>
  </body>
</html>

<!--
  <div class="content">
      <header class="app-header">
        <span class="arrow arrow-left"></span>
        <div class="container">
          <h2>Biblioteca</h2>
        </div> 
        <div id="menu-bar">
          <div id="menu" onClick="onClickMenu()">
            <div id="bar1" class="bar"></div>
            <div id="bar2" class="bar"></div>
            <div id="bar3" class="bar"></div>
          </div>
          <ul class="nav" id="nav">
            <li><a href="#">Biblioteca</a></li>
            <li><a href="#">Cómo leer</a></li>
            <li><a href="#">Índice</a></li>
          </ul>
-->
